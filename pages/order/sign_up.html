<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../asset/css/login.css">
</head>

<body>
    <!--login page-->
    <div class="login">
        <div class="glass">
            <div class="arrow">
                <a href="../../pages/order/add_to_cart.html"><img src="../../asset/images/homepage/arrow.png"
                        alt="arrow"></a>
            </div>
            <img src="../../asset/images/homepage/user.png" alt="user" class="user">
            <div class="signup">
                <p id="sign">Sign Up</p>
                <p id="welcome">WELCOME</p>
                <p id="h_five">Create an account to continue.</p>
                <form action="../order/shop_now.html">
                    <input type="text" name="name" placeholder="User Name" id="name"
                        title="username is cannot contain space" required="true" pattern="[A-Za-z]{1,20}">
                    <input type="email" name="email" placeholder="Enter Your Email" id="email" required="true">
                    <input type="password" name="password" placeholder="Enter Your Password" id="password"
                        required="true" >
                    <a href="../order/login.html">
                        <p>Already have an account?</p>
                    </a>
                    <button type="submit" onclick="create()">Create</button>
                </form>
            </div>
        </div>
    </div>
    <script>

        function create() {

            let get = JSON.parse(localStorage.getItem("get")) ?? [];

            const name = document.getElementById("name").value;
            const user_email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            let user_data = {
                "user_name": name,
                "password": password,
                "email": user_email,
            }

            if ("user_name" == " " && "password" == " " && "email" == " ") {
                alert("please fill all details")
            }
            // get.push(user_data);
            // 
            // localStorage.setItem("get", JSON.stringify(get));


            let success = true;

            if (get !== null)

                for (let i = 0; i < get.length; i++) {

                    if (get[i].email == user_email) {
                        success = false;
                        break;

                    }
                }
            if (success) {
                get.push(user_data);
                localStorage.setItem("get", JSON.stringify(get));
                alert("account create successfuly");

                window.location.href = "../order/shop_now.html"

            }
             else {
                alert(" Already you have an account")
            }

        }




    </script>
</body>

</html>