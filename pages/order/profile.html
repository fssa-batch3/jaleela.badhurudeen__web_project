<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../../asset/css/style.css">
    <link rel="stylesheet" href="../../asset/css/profile.css">


</head>
<body>

<div class="profile">

    <h1>profile</h1>
    <div class="profile_img">

        <img src="../../asset/images/homepage/profile.png" alt="profile_img">
       <!-- <a href="../order/profile_edit.html"> <button type="button" onclick="edit()">Edit Profile</button> </a> -->
    </div>
    <form>
            <label for="name">Name</label>
            <input type="text" name="name" id="name" title="username is cannot contain space or only minimum 2"  pattern="[A-Za-z]{2,20}" required >
            <label for="email">Email</label>
            <input type="email" name="email" id="email"  pattern="^[a-zA-Z0-9][a-zA-Z0-9._%+-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" title="please required form" required>
            <label for="address">Address</label>
            <input type="text" name="address" id="address" title="username is cannot contain space "  pattern="[A-Za-z0-9]" required>
            <label for="phone">Phone</label>
            <input type="number" name="phone" id="phone" title="username is cannot contain space "  pattern="[A-Za-z]{10,10}" required>
            <div class="gender">
                <input type="radio" name="gender" id="male">
                <label>Male</label>
                <input type="radio" name="gender" id="female">
                <label>Female</label>
                <input type="radio" name="gender" id="trans">
                <label>Transgender</label>
            </div>
          <div class="btn_prfl">
            <a href="../order/profile_edit.html"> <button type="button">Edit</button> </a>
            <button type="button" onclick="delete_profile()">Delete</button> 
          </div>
    </form>
</div>


    <script>
        let profile = JSON.parse(localStorage.getItem('get'));
        console.log(profile);
        for (let i=0; i <= profile.length; i++){
        document.getElementById("name").value = profile[i]["user_name"]; 
        document.getElementById("email").value = profile[i]["email"];
         }

// function edit(){
//     event.preventDefault();
//     let profile = JSON.parse(localStorage.getItem("get"));
//       for(let i = 0; i < profile.length; i++){
//         if(document.getElementById("email").value == profile[i]["email"]){
//             profile[i].user_name= document.getElementById("name").value
//         }
//       localStorage.setItem("get",JSON.stringify(profile))
//       }
//     }


function delete_profile(){
    let users = JSON.parse(localStorage.getItem("get"));
            // confirm("Are you sure want to delete your account?")
            for (let i = 0; i <  users.length; i++) {
            if(document.getElementById("email").value == users[i]["email"]){
                users.splice(i,1)
                localStorage.setItem("get", JSON.stringify(users));
            }
            }
        }

    //new




    </script>
</body>
</html>